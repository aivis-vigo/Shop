{% extends 'Layout/base.html.twig' %}

{% block title %}
    Silly Sales Shack
{% endblock %}

{% block head %}
    {{ parent() }}
{% endblock %}

{% block content %}
    <main class="my-4">
        <div class="w-1/2 mb-4 p-2 bg-white rounded-lg">
            <div class="flex">
                <svg class="h-8 w-8 text-black"
                     width="24"
                     height="24"
                     viewBox="0 0 24 24"
                     stroke-width="2"
                     stroke="currentColor"
                     fill="none"
                     stroke-linecap="round"
                     stroke-linejoin="round">
                    <path stroke="none" d="M0 0h24v24H0z"/>
                    <path d="M7 10h3v-3l-3.5 -3.5a6 6 0 0 1 8 8l6 6a2 2 0 0 1 -3 3l-6-6a6 6 0 0 1 -8 -8l3.5 3.5"/>
                </svg>
                <div class="font-semibold">
                    Edit section
                </div>
            </div>
            <div class="flex">
                <svg class="h-8 w-8 text-black"
                     viewBox="0 0 24 24"
                     fill="none"
                     stroke="currentColor"
                     stroke-width="2"
                     stroke-linecap="round"
                     stroke-linejoin="round">
                    <circle cx="12"
                            cy="12"
                            r="10"/>
                    <line x1="4.93"
                          y1="4.93"
                          x2="19.07"
                          y2="19.07"/>
                </svg>
                <div class="font-semibold">
                    Section cannot be deleted, because it contains listings
                </div>
            </div>
            <div class="flex">
                <svg class="h-8 w-8 text-black"
                     width="24"
                     height="24"
                     viewBox="0 0 24 24"
                     stroke-width="2"
                     stroke="currentColor"
                     fill="none"
                     stroke-linecap="round"
                     stroke-linejoin="round">
                    <path stroke="none" d="M0 0h24v24H0z"/>
                    <line x1="4"
                          y1="7"
                          x2="20"
                          y2="7"/>
                    <line x1="10"
                          y1="11"
                          x2="10"
                          y2="17"/>
                    <line x1="14"
                          y1="11"
                          x2="14"
                          y2="17"/>
                    <path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"/>
                    <path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"/>
                </svg>
                <div class="font-semibold">
                    Section can be deleted, because it's empty
                </div>
            </div>
        </div>

        <div class="w-1/2 gap-x-4 grid grid-cols-2">
            {% for section in sections %}
                <div class="flex bg-white p-4 mb-4 rounded-lg justify-between">
                    <div class="text-xl font-semibold">
                        {{ section.title }}
                    </div>

                    <input type="hidden" name="id" value="{{ section.id }}">

                    <div class="flex">
                        <form action="/{{ section.title|lower }}/edit" method="post">
                            <input type="hidden" name="id" value="{{ section.id }}">
                            <input type="hidden" name="title" value="{{ section.title }}">
                            <input type="hidden" name="section" value="{{ section.section }}">
                            <input type="hidden" name="description" value="{{ section.description }}">

                            <button type="submit">
                                <svg class="h-8 w-8 text-black"
                                     width="24"
                                     height="24"
                                     viewBox="0 0 24 24"
                                     stroke-width="2"
                                     stroke="currentColor"
                                     fill="none"
                                     stroke-linecap="round"
                                     stroke-linejoin="round">
                                    <path stroke="none" d="M0 0h24v24H0z"/>
                                    <path d="M7 10h3v-3l-3.5 -3.5a6 6 0 0 1 8 8l6 6a2 2 0 0 1 -3 3l-6-6a6 6 0 0 1 -8 -8l3.5 3.5"/>
                                </svg>
                            </button>
                        </form>

                        <form action="/delete-section" method="post">
                            <input type="hidden" name="id" value="{{ section.id }}">

                            {% if section.disabled %}
                                <svg class="h-8 w-8 text-gray-500"
                                     viewBox="0 0 24 24"
                                     fill="none"
                                     stroke="currentColor"
                                     stroke-width="2"
                                     stroke-linecap="round"
                                     stroke-linejoin="round">
                                    <circle cx="12"
                                            cy="12"
                                            r="10"/>
                                    <line x1="4.93"
                                          y1="4.93"
                                          x2="19.07"
                                          y2="19.07"/>
                                </svg>
                            {% else %}
                                <button type="submit">
                                    <svg class="h-8 w-8 text-red-500"
                                         width="24"
                                         height="24"
                                         viewBox="0 0 24 24"
                                         stroke-width="2"
                                         stroke="currentColor"
                                         fill="none"
                                         stroke-linecap="round"
                                         stroke-linejoin="round">
                                        <path stroke="none" d="M0 0h24v24H0z"/>
                                        <line x1="4"
                                              y1="7"
                                              x2="20"
                                              y2="7"/>
                                        <line x1="10"
                                              y1="11"
                                              x2="10"
                                              y2="17"/>
                                        <line x1="14"
                                              y1="11"
                                              x2="14"
                                              y2="17"/>
                                        <path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"/>
                                        <path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"/>
                                    </svg>
                                </button>
                            {% endif %}
                        </form>
                    </div>
                </div>
            {% endfor %}
        </div>
    </main>
{% endblock %}

{% block footer %}
    {{ parent() }}
{% endblock %}