{% extends 'Layout/base.html.twig' %}

{% block title %}
    Silly Sales Shack
{% endblock %}

{% block head %}
    {{ parent() }}
{% endblock %}

{% block content %}
    <div class="relative mx-auto w-1/2 pt-6">
        <div class="flex gap-x-4 justify-end">
            <form action="/edit-listing" method="post">
                <input type="hidden" name="id" value="{{ listing.id }}">
                <input type="hidden" name="title" value="{{ listing.title }}">
                <input type="hidden" name="description" value="{{ listing.description }}">
                <input type="hidden" name="price" value="{{ listing.price }}">
                <input type="hidden" name="location" value="{{ listing.location }}">

                <button type="submit">
                    <svg class="h-8 w-8 text-white"
                         width="24"
                         height="24"
                         viewBox="0 0 24 24"
                         stroke-width="2"
                         stroke="currentColor"
                         fill="none"
                         stroke-linecap="round"
                         stroke-linejoin="round">
                        <path stroke="none" d="M0 0h24v24H0z"/>
                        <path d="M7 10h3v-3l-3.5 -3.5a6 6 0 0 1 8 8l6 6a2 2 0 0 1 -3 3l-6-6a6 6 0 0 1 -8 -8l3.5 3.5"/>
                    </svg>
                </button>
            </form>
            <form action="/delete-listing" method="post">
                <input type="hidden" name="id" value="{{ listing.id }}">

                <button type="submit">
                    <svg class="h-8 w-8 text-white"
                         fill="none"
                         viewBox="0 0 24 24"
                         stroke="currentColor">
                        <path stroke-linecap="round"
                              stroke-linejoin="round"
                              stroke-width="2"
                              d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/>
                    </svg>
                </button>
            </form>
        </div>

        <div class="relative inline-block w-full transform transition-transform duration-300 ease-in-out">
            <div class="rounded-lg">
                <div class="relative flex h-108 justify-center overflow-hidden rounded-lg">
                    <div class="w-full">
                        <img src="https://placehold.co/1200x600?text=Placeholder" alt=""/>
                    </div>
                </div>

                <div class="">
                    <div class="mt-4 grid grid-cols-2">
                        <div class="flex items-center">
                            <div class="relative">
                                <h2 class="line-clamp-1 text-base font-medium text-white md:text-lg" title="New York">
                                    {{ listing.title }}
                                </h2>
                            </div>
                        </div>
                        <div class="flex items-center justify-end">
                            <p class="text-primary inline-block whitespace-nowrap rounded-xl text-white font-semibold leading-tight">
                                <span class="text-sm uppercase">&euro;</span>
                                <span class="text-lg">{{ listing.price }}</span>
                            </p>
                        </div>
                    </div>

                    <div class="mt-2 border-t border-gray-200 text-white pt-3">
                        {{ listing.description }}
                    </div>

                    <div class="mt-2 grid grid-cols-2 grid-rows-2 gap-4 border-b border-t border-gray-200 pb-3 pt-3">
                        <p class="flex items-center text-white xl:flex-row xl:items-center">
                            <svg class="h-5 w-5 text-white"
                                 viewBox="0 0 24 24"
                                 fill="none"
                                 stroke="currentColor"
                                 stroke-width="2"
                                 stroke-linecap="round"
                                 stroke-linejoin="round">
                                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                                <circle cx="12"
                                        cy="7"
                                        r="4"/>
                            </svg>
                            <span class="xl:mt-0">{{ user.firstName }} {{ user.lastName }}</span>
                        </p>
                        <p class="flex items-center text-white xl:flex-row xl:items-center">
                            <svg class="h-5 w-5 text-white"
                                 width="24"
                                 height="24"
                                 viewBox="0 0 24 24"
                                 stroke-width="2"
                                 stroke="currentColor"
                                 fill="none"
                                 stroke-linecap="round"
                                 stroke-linejoin="round">
                                <path stroke="none" d="M0 0h24v24H0z"/>
                                <rect x="3"
                                      y="5"
                                      width="18"
                                      height="14"
                                      rx="2"/>
                                <polyline points="3 7 12 13 21 7"/>
                            </svg>
                            <span class="xl:mt-0">{{ user.email }}</span>
                        </p>
                        <p class="flex items-center text-white xl:flex-row xl:items-center">
                            <svg class="h-5 w-5 text-white"
                                 fill="none"
                                 viewBox="0 0 24 24"
                                 stroke="currentColor">
                                <path stroke-linecap="round"
                                      stroke-linejoin="round"
                                      stroke-width="2"
                                      d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
                            </svg>
                            <span class="xl:mt-0">{{ user.number }}</span>
                        </p>
                        <p class="flex items-center text-white xl:flex-row xl:items-center">
                            <svg class="h-5 w-5 text-white"
                                 viewBox="0 0 24 24"
                                 fill="none"
                                 stroke="currentColor"
                                 stroke-width="2"
                                 stroke-linecap="round"
                                 stroke-linejoin="round">
                                <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
                                <polyline points="9 22 9 12 15 12 15 22"/>
                            </svg>
                            <span class="xl:mt-0">{{ listing.location }}</span>
                        </p>
                    </div>
                    <div class="mt-2 mb-6 text-white text-center">
                        {{ listing.created_at }}
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block footer %}
    {{ parent() }}
{% endblock %}